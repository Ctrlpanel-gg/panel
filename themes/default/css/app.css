@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';
@plugin "flowbite-typography";

@layer base {
    html {
        @apply antialiased;
    }

    body {
        @apply bg-primary-950 text-primary-100;
    }

    :root {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;
        --card: 217 32% 17%;
        --card-foreground: 210 40% 98%;
        --primary: 221 83% 53%;
        --ring: 221 83% 53%;
        --ring-color: 221 83% 53%;
        animation: var(--animate-pulse);
    }

    /* Form Controls */
    [type='text'],
    [type='email'],
    [type='url'],
    [type='password'],
    [type='number'],
    [type='date'],
    [type='datetime-local'],
    [type='month'],
    [type='search'],
    [type='tel'],
    [type='time'],
    [type='week'],
    [multiple],
    textarea,
    select {
        @apply w-full rounded-lg bg-zinc-900/50 border-zinc-800/50 text-zinc-300 focus:border-primary-500 focus:ring-primary-500/20 placeholder:text-zinc-600;
    }

    [type='checkbox'],
    [type='radio'] {
        @apply rounded border-zinc-800/50 bg-zinc-900/50 text-primary-600 focus:ring-primary-500/20 focus:ring-offset-0;
    }

    /* Chrome, Safari, Edge autofill override */
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus,
    input:-webkit-autofill:active {
        -webkit-box-shadow: 0 0 0 30px rgb(24 24 27 / 0.5) inset !important;
        -webkit-text-fill-color: #fff !important;
        caret-color: #fff;
        border-bottom-width: 1px;
    }

    /* Firefox autofill override */
    input:autofill {
        background: transparent;
        color: #fff;
        border-bottom-width: 1px;
    }
}

@layer components {
    .btn {
        @apply px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200;
    }

    .btn-primary {
        @apply bg-primary-800 text-primary-200 hover:bg-primary-700 active:bg-primary-600;
    }

    .input {
        @apply w-full px-4 py-2.5 bg-primary-950 border border-primary-800 rounded-lg text-sm transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-primary-700 focus:border-transparent;
    }

    .card {
        @apply bg-zinc-900/50 backdrop-blur-sm rounded-xl border border-zinc-800/50 overflow-hidden hover:bg-zinc-900/60 hover:border-zinc-700/50 transition-all duration-700;
    }

    .card-header {
        @apply px-6 py-4 border-b border-zinc-800/50;
    }

    .card-body {
        @apply p-6;
    }

    /* Stats Components */
    .stats-icon {
        @apply rounded-full p-3 mr-4;

        &.blue {
            @apply bg-accent-blue/10 text-accent-blue;
        }

        &.amber {
            @apply bg-accent-amber/10 text-accent-amber;
        }

        &.emerald {
            @apply bg-accent-emerald/10 text-accent-emerald;
        }

        &.red {
            @apply bg-accent-red/10 text-accent-red;
        }
    }

    .stats-text {
        &-label {
            @apply text-primary-400 text-sm;
        }

        &-value {
            @apply text-2xl font-semibold text-primary-100;
        }

        &-subtitle {
            @apply text-xs text-primary-500;
        }
    }

    .stats-card {
        @apply glass-panel p-6 flex items-center gap-4;
    }

    /* Content Styling */
    .prose-invert {
        @apply prose-headings:text-primary-100 prose-p:text-primary-300 prose-a:text-accent-blue hover:prose-a:text-accent-blue/80 prose-strong:text-primary-200 prose-ul:text-primary-300 prose-ol:text-primary-300 prose-blockquote:text-primary-400 prose-figure:text-primary-300 prose-figcaption:text-primary-400 prose-code:text-primary-300 prose-pre:bg-primary-800 prose-th:text-primary-300 prose-td:text-primary-300 prose-img:rounded-xl prose-hr:border-primary-800;
    }

    /* UI Components */
    .glass-panel {
        @apply bg-zinc-900/50 backdrop-blur-sm border border-zinc-800/50 rounded-xl overflow-hidden;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    }

    .glass-morphism {
        @apply relative overflow-hidden transition-all duration-300;
        background: linear-gradient(110deg,
                rgba(59, 130, 246, 0.02),
                rgba(59, 130, 246, 0.05) 45%,
                rgba(59, 130, 246, 0.02));
    }

    .glass-morphism:hover {
        background: linear-gradient(110deg,
                rgba(59, 130, 246, 0.04),
                rgba(59, 130, 246, 0.08) 45%,
                rgba(59, 130, 246, 0.04));
    }

    /* Navigation Components */
    .nav-link {
        @apply flex items-center px-4 py-2 text-sm font-medium text-zinc-400 hover:text-zinc-200 rounded-lg transition-colors relative focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-700 focus-visible:ring-offset-0;
    }

    .nav-link.active {
        @apply bg-zinc-800 text-white hover:bg-zinc-700;
    }

    /* Status Badge Styling */
    .badge {
        @apply px-3 py-1 text-xs font-medium rounded-full inline-flex items-center gap-1;
    }

    .badge.success {
        @apply bg-emerald-500/10 text-emerald-400;
    }

    .badge.warning {
        @apply bg-amber-500/10 text-amber-400;
    }

    .badge.danger {
        @apply bg-red-500/10 text-red-400;
    }

    .badge.info {
        @apply bg-blue-500/10 text-blue-400;
    }

    /* Form Controls - Dark Theme */
    .form-input,
    .form-select,
    .form-multiselect,
    .form-textarea {
        @apply w-full rounded-lg bg-zinc-900/50 border-zinc-800/50 text-zinc-300 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 placeholder:text-zinc-600;
    }

    .form-checkbox {
        @apply rounded border-zinc-800/50 bg-zinc-900/50 text-primary-600 focus:ring-primary-500/20 focus:ring-offset-0 focus:ring-offset-zinc-900;
    }

    .form-file-input {
        @apply file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-medium file:bg-primary-800/80 file:text-primary-200 hover:file:bg-primary-700/80 file:rounded-lg text-zinc-400 rounded-lg border border-zinc-800/50 bg-zinc-900/50;
    }

    /* Table & DataTables Consolidated Styling */
    .table,
    .dataTable {
        @apply w-full text-sm;
    }

    .table thead,
    .dataTable thead tr {
        @apply bg-transparent border-b border-zinc-800/50;
    }

    .table thead th,
    .dataTable thead th {
        @apply px-4 py-3 text-xs font-medium text-zinc-500 uppercase tracking-wider text-left;
    }

    .table tbody tr,
    .dataTable tbody tr {
        @apply transition-colors border-b border-zinc-800/10 hover:bg-zinc-800/20;
    }

    .table tbody tr:last-child,
    .dataTable tbody tr:last-child {
        @apply border-b-0;
    }

    .table tbody td,
    .dataTable tbody td {
        @apply px-4 py-3 text-zinc-300;
    }

    .table tfoot {
        @apply bg-transparent;
    }

    .table tfoot td {
        @apply px-4 py-3 text-zinc-300 font-medium border-t border-zinc-800/50;
    }

    /* Table Links */
    .table a,
    .dataTable a {
        @apply text-accent-blue hover:text-accent-blue/80 transition-colors;
    }

    /* Table Container */
    .table-container,
    .dataTables_wrapper {
        @apply rounded-lg overflow-hidden text-zinc-400 w-full;
    }

    /* Responsive Table Scrolling */
    .table-responsive {
        @apply overflow-x-auto;
        scrollbar-width: thin;
        scrollbar-color: theme('colors.zinc.700') theme('colors.zinc.900');
    }

    .table-responsive::-webkit-scrollbar {
        @apply h-2 w-2;
    }

    .table-responsive::-webkit-scrollbar-track {
        @apply bg-zinc-900 rounded-full;
    }

    .table-responsive::-webkit-scrollbar-thumb {
        @apply bg-zinc-700 rounded-full hover:bg-zinc-600 transition-colors;
    }

    /* DataTables Specific Controls */
    .dataTables_length,
    .dataTables_filter {
        @apply mb-4;
    }

    .dataTables_length select,
    .dataTables_filter input {
        @apply bg-zinc-900/50 border border-zinc-800/50 rounded-lg px-3 py-1.5 text-zinc-300 focus:ring-2 focus:ring-primary-700 focus:border-transparent transition-colors duration-200;
    }

    .dataTables_info {
        @apply mt-4 text-sm text-zinc-500;
    }

    /* DataTables & Standard Pagination */
    .dataTables_paginate,
    .pagination {
        @apply mt-4 flex items-center justify-end gap-1;
    }

    .dataTables_paginate .paginate_button,
    .pagination>* {
        @apply inline-flex items-center justify-center px-3 py-1.5 text-sm rounded-lg transition-colors duration-200 font-medium min-w-[2.25rem] text-zinc-400 hover:text-white hover:bg-zinc-800;
    }

    .dataTables_paginate .paginate_button.current,
    .pagination .page-item.active .page-link {
        @apply bg-primary-800 text-white hover:bg-primary-700;
    }

    .dataTables_paginate .paginate_button.disabled,
    .pagination .page-item.disabled .page-link {
        @apply opacity-50 cursor-not-allowed hover:bg-transparent hover:text-zinc-400;
    }

    /* DataTables Button Override */
    .dt-button {
        @apply btn btn-primary !important;
    }

    /* Dropdown Styling */
    .dropdown-menu {
        @apply absolute right-0 mt-2 w-48 rounded-lg bg-zinc-800 shadow-lg ring-1 ring-black ring-opacity-5 border border-zinc-700/50 py-1 z-50;
    }

    .dropdown-item {
        @apply block px-4 py-2 text-sm text-zinc-300 hover:bg-zinc-700 transition-colors duration-150 cursor-pointer;
    }

    .dropdown-divider {
        @apply my-1 border-t border-zinc-700;
    }

    .table-dropdown {
        @apply relative inline-block text-left;
    }

    .table-dropdown-content {
        @apply dropdown-menu origin-top-right;
    }

    /* Table Action Buttons */
    .btn-action {
        @apply p-2 rounded-lg text-zinc-400 hover:text-white hover:bg-zinc-800 transition-colors inline-flex items-center justify-center;
    }

    /* SweetAlert2 Styling - Consolidated */
    .swal2-popup {
        @apply bg-zinc-900/95 backdrop-blur-sm border border-zinc-800/50 !important;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    }

    .swal2-title {
        @apply text-white font-medium !important;
    }

    .swal2-html-container {
        @apply text-zinc-300 !important;
    }

    .swal2-icon {
        @apply border-zinc-700 !important;
    }

    /* SweetAlert2 Icons */
    .swal2-icon.swal2-success {
        @apply border-emerald-500 !important;
    }

    .swal2-icon.swal2-success [class^='swal2-success-line'] {
        @apply bg-emerald-500 !important;
    }

    .swal2-icon.swal2-success .swal2-success-ring {
        @apply border-emerald-500/30 !important;
    }

    .swal2-icon.swal2-error {
        @apply border-red-500 !important;
    }

    .swal2-icon.swal2-error [class^='swal2-x-mark-line'] {
        @apply bg-red-500 !important;
    }

    .swal2-icon.swal2-warning {
        @apply border-amber-500 text-amber-500 !important;
    }

    .swal2-icon.swal2-info {
        @apply border-blue-500 text-blue-500 !important;
    }

    .swal2-icon.swal2-question {
        @apply border-purple-500 text-purple-500 !important;
    }

    /* SweetAlert2 Buttons */
    .swal2-confirm {
        @apply bg-primary-800 text-primary-200 hover:bg-primary-700 rounded-lg px-4 py-2 !important;
    }

    .swal2-deny {
        @apply bg-red-800 text-red-200 hover:bg-red-700 rounded-lg px-4 py-2 !important;
    }

    .swal2-cancel {
        @apply bg-zinc-800 text-zinc-200 hover:bg-zinc-700 rounded-lg px-4 py-2 !important;
    }

    /* SweetAlert2 Input fields */
    .swal2-input,
    .swal2-textarea {
        @apply bg-zinc-800/50 border border-zinc-700/50 text-zinc-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 !important;
    }

    /* SweetAlert2 Toast notifications */
    .swal2-toast {
        @apply bg-zinc-900/95 backdrop-blur-sm border border-zinc-800/50 !important;
    }

    .swal2-toast .swal2-title {
        @apply text-sm font-normal !important;
    }

    .swal2-toast .swal2-close {
        @apply text-zinc-400 hover:text-white !important;
    }

    .swal2-timer-progress-bar {
        @apply bg-primary-600/50 !important;
    }

    /* Toast animations */
    .animate-fade-in {
        animation: fadeIn 0.3s ease-in-out forwards;
    }

    .animate-fade-out {
        animation: fadeOut 0.3s ease-in-out forwards;
    }

    /* Select2 Styling - Dark Theme */
    .select2-container--default {
        @apply w-full text-zinc-300;
    }

    /* Main container */
    .select2-container--default .select2-selection--multiple,
    .select2-container--default .select2-selection--single {
        @apply rounded-lg bg-zinc-900/50 border-zinc-800/50 min-h-[42px] text-zinc-300;
    }

    /* Container when focused/active */
    .select2-container--default.select2-container--focus .select2-selection--multiple,
    .select2-container--default.select2-container--open .select2-selection--single {
        @apply border-primary-500 ring-2 ring-primary-500/20 border-solid;
    }

    /* Selected items/tags */
    .select2-container--default .select2-selection--multiple .select2-selection__choice {
        @apply bg-zinc-800 border-zinc-700 rounded-md px-2 py-1 text-zinc-300 mr-1 mt-1;
    }

    /* Remove button (x) on tags */
    .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
        @apply text-zinc-400 hover:text-white mr-1 border-r-0 px-1;
    }

    /* Dropdown panel */
    .select2-dropdown {
        @apply bg-zinc-900/95 backdrop-blur-sm border border-zinc-800/50 rounded-lg overflow-hidden z-50;
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
    }

    /* Search field */
    .select2-container--default .select2-search--dropdown .select2-search__field {
        @apply bg-zinc-800/50 border-zinc-700/50 text-zinc-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500;
    }

    /* Option items */
    .select2-results__option {
        @apply px-4 py-2 text-zinc-300;
    }

    /* Highlighted option */
    .select2-container--default .select2-results__option--highlighted[aria-selected] {
        @apply bg-primary-800 text-white;
    }

    /* Selected option in dropdown */
    .select2-container--default .select2-results__option[aria-selected=true] {
        @apply bg-zinc-800 text-zinc-300;
    }

    /* Disabled options */
    .select2-container--default .select2-results__option[aria-disabled=true] {
        @apply text-zinc-600 cursor-not-allowed;
    }

    /* Placeholder text */
    .select2-container--default .select2-selection--multiple .select2-selection__placeholder,
    .select2-container--default .select2-selection--single .select2-selection__placeholder {
        @apply text-zinc-600;
    }

    /* Group headers */
    .select2-container--default .select2-results__group {
        @apply px-4 py-2 text-xs text-zinc-500 uppercase font-medium border-b border-zinc-800/30;
    }

    /* Clear selection button */
    .select2-container--default .select2-selection--single .select2-selection__clear,
    .select2-container--default .select2-selection--multiple .select2-selection__clear {
        @apply text-zinc-500 hover:text-zinc-300 ml-2;
    }

    /* Arrow dropdown indicator */
    .select2-container--default .select2-selection--single .select2-selection__arrow {
        @apply flex items-center justify-center;
        height: 100%;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow b {
        @apply border-zinc-500;
    }

    /* Single select text */
    .select2-container--default .select2-selection--single .select2-selection__rendered {
        @apply text-zinc-300 px-3 py-2;
    }
}

/* Animations and Transitions */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-1rem);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(-1rem);
    }
}

@keyframes pulse {
    50% {
        opacity: 0.3;
    }

    100% {
        opacity: 1;
    }
}

/* Page transitions */
#app {
    animation: fadeIn 0.3s ease-out;
}